<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Brann-NM i Sykkel 2023</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-image: url("https://www.ishn.com/ext/resources/900x550/fire-900.jpg?1583411594");
        background-color: #f5f5f5;
        color: #333;
      }
      header {
        background-color: #1a1a1a;
        color: #fff;
        text-align: center;
        padding: 1rem 0;
      }
      h1 {
        margin: 0;
        font-size: 2rem;
      }
      .main-content {
        padding: 2rem;
        background-color: #fff;
        margin: 2rem;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      h2 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }
      p {
        line-height: 1.6;
      }
      .participant-list {
        margin: 2rem;
        background-color: #fff;
        padding: 1.5rem;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .participant {
        list-style-type: none;
        margin-bottom: 1.5rem;
        padding: 1rem;
        border: 1px solid #dc143c;
        border-radius: 10px;
      }
      .participant h2 {
        font-size: 1.2rem;
        margin: 0 0 1rem;
      }
      .responsibilities {
        font-weight: bold;
      }
      .res {
        background-color: gold;
      }
      footer {
        text-align: center;
        padding: 1rem;
        background-color: #1a1a1a;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Brann-NM i Sykkel 2023</h1>
      <img
        src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScs6CtNn1JVnf08hR-TKscEqFIQDT2vxc9oHFvhGDXjw&s"
        alt="Brann-NM Logo"
      />
      <p>Velkommen til Sykkel-NM for brannvesen p친 Beitost칮len</p>
    </header>
    <div class="main-content">
      <div id="weather-widget">
        <!-- For Friday -->
        <h1>V칝rvarsel for Beitost칮len fredag</h1>
        <p>
          <strong>Temperatur:</strong> <span id="temperature-friday"></span>
        </p>
        <p><strong>V칝rforhold:</strong> <span id="condition-friday"></span></p>
        <!-- For Saturday -->
        <h1>V칝rvarsel for Beitost칮len l칮rdag</h1>
        <p>
          <strong>Temperatur:</strong> <span id="temperature-saturday"></span>
        </p>
        <p>
          <strong>V칝rforhold:</strong> <span id="condition-saturday"></span>
        </p>
      </div>

      <h2>Informasjon</h2>
      <div class="res">
        
      <h3>Resultater</h3>
        <div>
      <h4>Terreng</h4>
          #1 Lasse Leth-Olsen, NRBR - 39:58<br>
#1 G칮ran Syversen, NRBR - 39:58<br>
#3 Ketil T칝rum, OBRE - 46:16<br>
#4 Hans Christian H친rstad, Surnadal Brannvesen - 48:55<br>
#5 Kjetil Prestrud, VBRIKS - 53:30<br>
#6 Kjetil Ekerbakke, VBRIKS - 3 runder - 42:30<br>
          </div>
        <div>
      <h4>Tempo</h4>
          游볞 Lasse Leth-Olsen, NRBR - 1:38<br>
游볟 Miriam Bj칮rnsrud, NRBR - 1:40<br>
游볟 칒rjan Sandven, NRBR - 1:40<br>
#4  G칮ran Syversen, NRBR - 1:44<br>
#5  Ketil T칝rum, OBRE - 1:55<br>
#6  Marius B. Mortensen, NRBR - 2:00<br>
#6  H친kon Kilstad, NRBR - 2:00<br>
#8  Kenneth Kribe, NRBR - 2:07<br>
#9  Kenny 칀serud, NRBR - 2:11<br>
#10 Hans Chr. H친rstad, Surnadal Brannvesen - 2:22<br>
#11 Ingart Andersen, NRBR 2:44<br>
#12 Kjetil Ekerbakke, VBRIKS 2:59<br>
          </div>
        <div>
      <h4>Landevei</h4>
          </div>
        </div>

      <p><strong>Gode nyheter kj칝re kollegaer, vi har v칝rt s친 heldig 친 landet 2 sponsorer,
      v친r kj칮re Meny og Rema1000 p친 skedsmokorset er s친 kule 친 bidrar til matforsyninger! det blir fredag servert frossen pizza til alle p친 hytta. frokost med stort sett alt annet handler jeg og H친kon inn! Vi sees gutter & jenter.</strong></p>

      <p>
        Snart skal vi avg친rde til Sykkel-NM for brannvesenet p친 Beitost칮len den
        8.-10. september. Dette arrangementet er et h칮ydepunkt for oss, og vi
        ser frem til 친 samles igjen. Jeg har tatt meg noen friheter med
        organisering. <strong>HUSK ta med eget senget칮y og h친ndkl칝r!</strong>
      </p>
      <p>
        Vi er takknemlige for at Ida og hennes foreldre l친ner oss hytta p친
        칒rrelie 5, Beitost칮len, der vi skal overnatte. Det tar ca. 3 timer og 30
        minutter 친 kj칮re dit. Hytten har 13 sengeplasser, forel칮pig er vi 12 p친
        hytta med min liste(Ingarth og Ronnie sover i bobil. Vi oppfordrer til
        godt kameratskap og deling av rom.
      </p>
      <p>
        I forberedelsene til Sykkel NM har det v칝rt noe planlegging. Jeg vil ta
        ansvar for innkj칮p av mat, som inkluderer middag p친 fredag, frokost p친
        l칮rdag og s칮ndag, pluss snacks. L칮rdag kveld drar vi p친 banketten, og
        jeg h친per det blir en minnerik opplevelse for alle.
      </p>
      <p>
        Vi har ogs친 sikret oss biler fra NRBR som vil bist친 under arrangementet,
        Miriam, Ludvig og Kribe har f친tt l친ne Caddy fra forebyggende. Om du
        skulle ha behov for transport av sykkel ved hjelp av disse Caddyene ta
        kontakt med en av dem. Gi meg beskjed (Kenny) om det skulle mangle noe
        informasjon eller noe ikke stemmer s친 endrer jeg info underveis.
      </p>

      <div class="motivation-section">
        <h2>Motivasjon</h2>
        <p>
          Vi er utrolig begeistret for 친 delta i 친rets Brann-NM i Sykkel p친
          Beitost칮len! Dette er en fantastisk mulighet for oss til 친 vise v친r
          lidenskap for b친de brannvesenet og sykling. Gjennom samarbeid, innsats
          og st칮tte til hverandre, er vi klare til 친 konkurrere og skape minner
          som vil vare livet ut.
        </p>
        <p>
          Denne konkurransen handler ikke bare om 친 vinne, men ogs친 om 친
          representere v친rt brannvesen p친 en positiv m친te. Vi har trent hardt,
          og vi er klare til 친 gi v친rt beste i alle 칮velser. Sammen er vi
          sterke, og vi ser frem til 친 vise v친rt team친nd og v친rt engasjement for
          b친de brannvesenet og syklingssporten.
        </p>
        <p>
          La oss tr친 til og gj칮re Brann-NM i Sykkel 2023 til en uforglemmelig
          opplevelse for alle involverte. Med v친rt fokus, v친r innsats og v친r
          samh칮righet, er vi klare til 친 krysse m친lstreken med stolthet og
          glede!
        </p>
      </div>
      <div>
        <h2>L칮ypekart for terrengrittet</h2>
        <img
          src="https://scontent.fosl1-1.fna.fbcdn.net/v/t39.30808-6/371854226_10159486899501461_6698140238057478625_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=4c1e7d&_nc_ohc=moQjKXSAl1MAX81ZKgf&_nc_ht=scontent.fosl1-1.fna&oh=00_AfCsUfArXLtDFP9uFzD1LSeniT2UAU7gsVohRG7qizkphw&oe=64F76DE2"
          alt="Terrengritt"
        />
      </div>

      <div>
        <h2>L칮ypekart for landevei rittet</h2>
        <img
          src="https://scontent.fsvg2-1.fna.fbcdn.net/v/t39.30808-6/365689165_10159447134891461_3001256505507103501_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=4c1e7d&_nc_ohc=G8V9CPGPURsAX92HFRv&_nc_ht=scontent.fsvg2-1.fna&oh=00_AfC0vNpZ7XUVDoMpOnJ_BjdSCHRMcA5dDzq0D7L0Mob2jQ&oe=64FCE9EF"
          alt="Landeveigritt"
        />
      </div>
    </div>

    <div class="container">
      <div class="participant-list">
        <h2>Deltakerliste</h2>
        <ol class="participant">
          <li class="participant">
            <h3>Kenny</h3>
            <ul class="responsibilities">
              <li>Ansvaret for BMW-skolebilen</li>
              <li>Ansvaret for innkj칮p av mat</li>
            </ul>
            <p>Reiser med: H친kon</p>
            <p>M칮tested: Skedsmo T-21</p>
            <p>Avreisetid: Fredag morgen rundt 09:00</p>
          </li>
          <li class="participant">
            <h3>H친kon</h3>
            <p>Reiser med: Kenny</p>
            <p>M칮tested: Skedsmo T-21</p>
            <p>Avreisetid: Fredag morgen rundt 09:00</p>
          </li>
          <li class="participant">
            <h3>Ullrik</h3>
            <p>Reiser med: Ludvig?</p>
            <p>M칮tested:</p>
            <p>Avreisetid: Fredag etter vakt?</p>
          </li>
          <li class="participant">
            <h3>Lasse</h3>
            <ul class="responsibilities">
              <li>Ansvaret for Mercedes-skolebilen (Den gule)</li>
            </ul>
            <p>Reiser med: 칒rjan</p>
            <p>M칮tested: -</p>
            <p>Avreisetid: Fredag morgen</p>
          </li>
          <li class="participant">
            <h3>Gj칮ran</h3>
            <p>Reiser med: Kribe</p>
            <p>M칮tested: -</p>
            <p>Avreisetid: Fredag</p>
          </li>
          <li class="participant">
            <h3>칒rjan</h3>
            <p>Reiser med: Lasse</p>
            <p>M칮tested: -</p>
            <p>Avreisetid: Fredag</p>
          </li>
          <li class="participant">
            <h3>Ronnie</h3>
            <p>Reiser med: Ingarth</p>
            <p>M칮tested: Nittedal</p>
            <p>Avreisetid: Fredag morgen</p>
          </li>
          <li class="participant">
            <h3>Miriam</h3>
            <ul class="responsibilities">
              <li>
                Ansvaret for en Caddy fra forebyggende (Kontakt Tor-칀smund)
              </li>
            </ul>
            <p>Reiser med: Ida</p>
            <p>M칮tested: [M칮tested for Miriam og Ida]</p>
            <p>Avreisetid: [Avreisetid for Miriam og Ida]</p>
          </li>
          <li class="participant">
            <h3>Ludvig</h3>
            <ul class="responsibilities">
              <li>
                Ansvaret for en Caddy l친nt av forebyggende (Ta kontakt med
                Tor-칀smund - L칮renskog)
              </li>
            </ul>
            <p>Reiser med: -</p>
            <p>M칮tested: -</p>
            <p>Avreisetid: Fredag etter vakt</p>
          </li>
          <li class="participant">
            <h3>Ingarth</h3>
            <p>Reiser med: Ronnie</p>
            <p>M칮tested: Nittedal</p>
            <p>Avreisetid: Fredag morgen</p>
          </li>
          <li class="participant">
            <h3>Eddy</h3>
            <p>Reiser med: Alene</p>
            <p>M칮tested: -</p>
            <p>Avreisetid: Torsdag morgen</p>
          </li>
          <li class="participant">
            <h3>Marius</h3>
            <p>Reiser med: Alene</p>
            <p>M칮tested: -</p>
            <p>Avreisetid: Fredag morgen</p>
          </li>
          <li class="participant">
            <h3>Kribe</h3>
            <p>Reiser med 칒rjan</p>
            <p>M칮tested: L칮renskog</p>
            <p>Avreisetid: Fredag morgen</p>
          </li>
          <li class="participant">
            <h3>Rachel</h3>
            <p>Reiser med: J칮rn Flatner</p>
            <p>M칮tested: [M칮tested for Rachel og J칮rn]</p>
            <p>Avreisetid: Fredag formiddag?</p>
          </li>
          <li class="participant">
            <h3>J칮rn Flatner</h3>
            <p>Reiser med: Rachel</p>
            <p>M칮tested: [M칮tested for Rachel og J칮rn]</p>
            <p>Avreisetid: Fredag formiddag?</p>
          </li>
          <!-- ... (Gjenta denne strukturen for hver deltaker) ... -->
        </ol>
      </div>
      <div class="motivation-section">
        <!-- ... (tidligere motivasjonstekst) ... -->
      </div>
    </div>
    <footer>
      <p>&copy; 2023 Brann-NM i Sykkel. Alle rettigheter reservert.</p>
    </footer>
    <!-- the DIV that will contain the widget -->
    <div class="weatherWidget"></div>

    <script type="module">
      // Din OpenWeatherMap API-n칮kkel
      const apiKey = "03b9ff1b8a4facf6a7786a5a1bce24c5";

      // Lokasjon for v칝rvarsel (Oslo i dette tilfellet)
      const weatherLocation = "Heggenes,NO";

      // URL for v칝rdata
      const apiUrl = `https://api.openweathermap.org/data/2.5/forecast?q=${weatherLocation}&units=metric&appid=${apiKey}`;

      // Weather forecast upper limit in seconds
      const outerRange = 432000;

      function getNextWeekdayNoon(targetWeekday) {
        let today = new Date();
        const daysUntilTarget = (targetWeekday - today.getDay() + 7) % 7 || 7;
        today.setDate(today.getDate() + daysUntilTarget);
        today.setHours(12, 0, 0, 0);
        return today.getTime();
      }

      // Free api gives next 5 days, at 3 hour intervals, have to find closest to target
      async function fetchWeatherNearTimestamp(targetTimestamp) {
        const now = new Date();
        const secondsFromTarget = Math.abs(now.getTime()-targetTimestamp) / 1000
        if (secondsFromTarget > outerRange) { // 5 days in seconds
          return {
            temperature: 'ukjent',
            description: `Utenfor tilgjengelig 5 dagers v칝rmelding`,
          }
        }

        // Hent v칝rdata fra OpenWeatherMap
        return await fetch(apiUrl)
          .then((response) => response.json())
          .then((data) => {
            // We find the closest to the target timestamp
            let closestElement = null;
            let closestDifference = Infinity;
            // Find closest to target timestamp
            data.list.forEach((element) => {
              const difference = Math.abs(element.dt - targetTimestamp);
              if (difference < closestDifference) {
                closestDifference = difference;
                closestElement = element;
              }
            });
            return {
              temperature: `${closestElement.main.temp}춿C`,
              description: closestElement.weather[0].description,
            };
          })
          .catch((error) =>
            console.error("Feil ved henting av v칝rdata:", error)
          );
      }

      const fridayTimestamp = getNextWeekdayNoon(5); // 5 is Friday, 0 is Sunday
      const fridayWeather = await fetchWeatherNearTimestamp(fridayTimestamp);
      // Oppdater HTML med v칝rdata
      document.getElementById("temperature-friday").textContent =
        fridayWeather.temperature;
      
      document.getElementById("condition-friday").textContent =
        fridayWeather.description;


      const saturdayTimestamp = getNextWeekdayNoon(6); // 6 is saturday, 0 is Sunday
      const saturdayWeather = await fetchWeatherNearTimestamp(saturdayTimestamp);
      // Oppdater HTML med v칝rdata
      document.getElementById("temperature-saturday").textContent =
        saturdayWeather.temperature;
      document.getElementById("condition-saturday").textContent =
        saturdayWeather.description;
    </script>
    </script>
  </body>
</html>
